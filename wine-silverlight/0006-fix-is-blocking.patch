--- dlls/ws2_32/socket.c.orig	2013-04-21 14:35:47.128991613 -0700
+++ dlls/ws2_32/socket.c	2013-04-21 14:37:33.408412025 -0700
@@ -3221,6 +3221,7 @@
 {
     int fd;
     DWORD status = 0, total = 0;
+	BOOL is_blocking;
 
     TRACE("%ld, 0x%08x, %p, %d, %p, %d, %p, %p, %p\n",
           s, code, in_buff, in_size, out_buff, out_size, ret_size, overlapped, completion);
@@ -3408,7 +3409,7 @@
 
        TRACE("-> SIO_ADDRESS_LIST_CHANGE request\n");
 
-       if (overlapped || _is_blocking(s))
+       if (overlapped || _is_blocking(s, &is_blocking))
            status = NotifyAddrChange(&handle, overlapped);
        else
            status = WSAEWOULDBLOCK;
